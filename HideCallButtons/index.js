(function(B,m,c,r,C,e,R,E,_){"use strict";const{FormSection:v,FormDivider:p,FormIcon:u,FormSwitchRow:s}=E.Forms;function b(){return _.useProxy(e.storage),React.createElement(R.ReactNative.ScrollView,null,React.createElement(v,{title:"User Profile",titleStyleType:"no_border"},React.createElement(s,{label:"Hide call button",leading:React.createElement(u,{source:r.getAssetIDByName("ic_audio")}),onValueChange:function(o){e.storage.upHideVoiceButton=o},value:e.storage.upHideVoiceButton}),React.createElement(p,null),React.createElement(s,{label:"Hide video button",leading:React.createElement(u,{source:r.getAssetIDByName("ic_video")}),onValueChange:function(o){e.storage.upHideVideoButton=o},value:e.storage.upHideVideoButton})),React.createElement(v,{title:"DMs",titleStyleType:"no_border"},React.createElement(s,{label:"Hide call button",leading:React.createElement(u,{source:r.getAssetIDByName("ic_audio")}),onValueChange:function(o){e.storage.dmHideCallButton=o},value:e.storage.dmHideCallButton}),React.createElement(p,null),React.createElement(s,{label:"Hide video button",leading:React.createElement(u,{source:r.getAssetIDByName("ic_video")}),onValueChange:function(o){e.storage.dmHideVideoButton=o},value:e.storage.dmHideVideoButton})),React.createElement(v,{title:"Other",titleStyleType:"no_border"},React.createElement(s,{label:"Hide video button in VC",leading:React.createElement(u,{source:r.getAssetIDByName("video")}),onValueChange:function(o){return e.storage.hideVCVideoButton=o},value:e.storage.hideVCVideoButton})))}let l=[];var N={onLoad:function(){e.storage.upHideVoiceButton??=!0,e.storage.upHideVideoButton??=!0,e.storage.dmHideCallButton??=!1,e.storage.dmHideVideoButton??=!1,e.storage.hideVCVideoButton??=!1;const o=r.getAssetIDByName("ic_video"),A=r.getAssetIDByName("ic_audio"),h=r.getAssetIDByName("video"),H=r.getAssetIDByName("nav_header_connect"),D=m.findByName("UserProfileActions",!1),I=m.findByName("ChannelActions",!1),F=m.findByProps("ChannelButtons"),P=m.findByName("FocusedControlsBottomControls",!1);l.push(c.after("default",D,function(V,n){if(!e.storage.upHideVideoButton&&!e.storage.upHideVoiceButton)return;const t=C.findInReactTree(n,function(f){return f?.props?.children[1]?.type?.name=="_default"})?.props?.children;if(t!==void 0){for(var a in t){var d=t[a];(d?.props?.icon===A&&e.storage.upHideVoiceButton||d?.props?.icon===o&&e.storage.upHideVideoButton)&&delete t[a]}return[n]}})),l.push(c.after("default",P,function(V,n){if(!e.storage.hideVCVideoButton||n?.props?.children?.props?.children===void 0)return;var t=n?.props?.children?.props?.children[1];if(t?.type?.name!=="_default")return;const a=c.after("type",t,function(d,f){var i=f?.props?.children?.props?.children?.props?.children;i!==void 0&&delete i[0],a()})})),l.push(c.after("default",I,function(V,n){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;const t=n?.props?.children?.type;if(t?.type?.name!=="PrivateChannelButtons")return;const a=c.after("type",t,function(d,f){const i=f?.props?.children;if(i!==void 0){for(var y in i){var g=i[y];(g?.props?.source===H&&e.storage.dmHideCallButton||g?.props?.source===h&&e.storage.dmHideVideoButton)&&delete i[y]}a()}});return[n]})),l.push(c.after("ChannelButtons",F,function(V,n){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;const t=n?.props?.children;if(t!==void 0)for(var a in t){var d=t[a]?.props?.children[0];d!==void 0&&(d?.props?.source===H&&e.storage.dmHideCallButton||d?.props?.source===h&&e.storage.dmHideVideoButton)&&delete t[a]}}))},onUnload:function(){for(const o of l)o()},settings:b};return B.default=N,Object.defineProperty(B,"__esModule",{value:!0}),B})({},vendetta.metro,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.plugin,vendetta.metro.common,vendetta.ui.components,vendetta.storage);
