(function(f,s,o,c,b,e,B,C,V){"use strict";const{FormDivider:y,FormIcon:m,FormSwitchRow:v}=C.Forms;function R(){return V.useProxy(e.storage),React.createElement(B.ReactNative.ScrollView,null,React.createElement(v,{label:"Hide from user profile",subLabel:"Hide call buttons from user profile",leading:React.createElement(m,{source:c.getAssetIDByName("ic_profile_24px")}),onValueChange:function(n){e.storage.hideUserProfile=n},value:e.storage.hideUserProfile}),React.createElement(y,null),React.createElement(v,{label:"Hide from DM",subLabel:"Hide call buttons from DM title bar",leading:React.createElement(m,{source:c.getAssetIDByName("ic_dm")}),onValueChange:function(n){return e.storage.hideDMTitlebar=n},value:e.storage.hideDMTitlebar}),React.createElement(y,null),React.createElement(v,{label:"Hide from VC",subLabel:"Hide video button from VC",leading:React.createElement(m,{source:c.getAssetIDByName("video")}),onValueChange:function(n){return e.storage.hideVCVideoButton=n},value:e.storage.hideVCVideoButton}))}let l=[];var D={onLoad:function(){e.storage.hideUserProfile??=!0,e.storage.hideDMTitlebar??=!1,e.storage.hideVCVideoButton??=!1;const n=c.getAssetIDByName("ic_video"),E=s.findByName("UserProfileActions",!1),N=s.findByName("ChannelActions",!1),M=s.findByName("Header",!1),P=s.findByName("FocusedControlsBottomControls",!1);l.push(o.after("default",E,function(p,t){if(!e.storage.hideUserProfile)return;const r=b.findInReactTree(t,function(a){return a?.props?.children[1]?.props?.icon==n})?.props?.children;if(r!==void 0)return delete r[0],delete r[1],[t]})),l.push(o.after("default",P,function(p,t){if(!e.storage.hideVCVideoButton||t?.props?.children?.props?.children===void 0)return;var r=t?.props?.children?.props?.children[1];const a=o.after("type",r,function(u,d){var i=d?.props?.children?.props?.children?.props?.children;i!==void 0&&delete i[0],a()})})),l.push(o.after("default",N,function(p,t){if(!e.storage.hideDMTitlebar)return;const r=t?.props?.children?.type;if(r?.type?.name!=="PrivateChannelButtons")return;const a=o.after("type",r,function(u,d){const i=d?.props?.children;i!==void 0&&(delete i[0],delete i[1],a())});return[t]})),l.push(o.after("default",M,function(p,t){if(!e.storage.hideDMTitlebar)return;const r=b.findInReactTree(t,function(u){return u?.type?.name=="_default"});if(r===void 0)return;const a=o.after("type",r,function(u,d){if(d?.type===void 0)return;const i=o.after("type",d,function(I,g){if(g?.type===void 0)return;const _=o.after("type",g,function(T,H){const h=H?.props?.buttons;h!==void 0&&(delete h[0],delete h[1]),_()});i()});a()});return[t]}))},onUnload:function(){for(const n of l)n()},settings:R};return f.default=D,Object.defineProperty(f,"__esModule",{value:!0}),f})({},vendetta.metro,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.plugin,vendetta.metro.common,vendetta.ui.components,vendetta.storage);
