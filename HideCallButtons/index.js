(function(y,v,r,a,h,e,N,_,I){"use strict";const{FormSection:V,FormDivider:g,FormIcon:s,FormSwitchRow:l}=_.Forms;function A(){return I.useProxy(e.storage),React.createElement(N.ReactNative.ScrollView,null,React.createElement(V,{title:"User Profile",titleStyleType:"no_border"},React.createElement(l,{label:"Hide call button",leading:React.createElement(s,{source:a.getAssetIDByName("ic_audio")}),onValueChange:function(t){e.storage.upHideVoiceButton=t},value:e.storage.upHideVoiceButton}),React.createElement(g,null),React.createElement(l,{label:"Hide video button",leading:React.createElement(s,{source:a.getAssetIDByName("ic_video")}),onValueChange:function(t){e.storage.upHideVideoButton=t},value:e.storage.upHideVideoButton})),React.createElement(V,{title:"DMs",titleStyleType:"no_border"},React.createElement(l,{label:"Hide call button",leading:React.createElement(s,{source:a.getAssetIDByName("ic_audio")}),onValueChange:function(t){e.storage.dmHideCallButton=t},value:e.storage.dmHideCallButton}),React.createElement(g,null),React.createElement(l,{label:"Hide video button",leading:React.createElement(s,{source:a.getAssetIDByName("ic_video")}),onValueChange:function(t){e.storage.dmHideVideoButton=t},value:e.storage.dmHideVideoButton})),React.createElement(V,{title:"Other",titleStyleType:"no_border"},React.createElement(l,{label:"Hide video button in VC",leading:React.createElement(s,{source:a.getAssetIDByName("video")}),onValueChange:function(t){return e.storage.hideVCVideoButton=t},value:e.storage.hideVCVideoButton})))}let f=[];var D={onLoad:function(){e.storage.upHideVoiceButton??=!0,e.storage.upHideVideoButton??=!0,e.storage.dmHideCallButton??=!1,e.storage.dmHideVideoButton??=!1,e.storage.hideVCVideoButton??=!1;const t=a.getAssetIDByName("ic_video"),F=a.getAssetIDByName("ic_audio"),C=a.getAssetIDByName("video"),R=a.getAssetIDByName("nav_header_connect"),P=v.findByName("UserProfileActions",!1),S=v.findByName("ChannelActions",!1),T=v.findByName("Header",!1),U=v.findByName("FocusedControlsBottomControls",!1);f.push(r.after("default",P,function(H,n){if(!e.storage.upHideVideoButton&&!e.storage.upHideVoiceButton)return;const o=h.findInReactTree(n,function(c){return c?.props?.children[1]?.type?.name=="_default"})?.props?.children;if(o!==void 0){for(var i in o){var u=o[i];(u?.props?.icon===F&&e.storage.upHideVoiceButton||u?.props?.icon===t&&e.storage.upHideVideoButton)&&delete o[i]}return[n]}})),f.push(r.after("default",U,function(H,n){if(!e.storage.hideVCVideoButton||n?.props?.children?.props?.children===void 0)return;var o=n?.props?.children?.props?.children[1];if(o?.type?.name!=="_default")return;const i=r.after("type",o,function(u,c){var d=c?.props?.children?.props?.children?.props?.children;d!==void 0&&delete d[0],i()})})),f.push(r.after("default",S,function(H,n){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;const o=n?.props?.children?.type;if(o?.type?.name!=="PrivateChannelButtons")return;const i=r.after("type",o,function(u,c){const d=c?.props?.children;if(d!==void 0){for(var p in d){var m=d[p];(m?.props?.source===R&&e.storage.dmHideCallButton||m?.props?.source===C&&e.storage.dmHideVideoButton)&&delete d[p]}i()}});return[n]})),f.push(r.after("default",T,function(H,n){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;const o=h.findInReactTree(n,function(u){return u?.type?.name=="_default"});if(o===void 0)return;const i=r.after("type",o,function(u,c){if(c?.type===void 0)return;const d=r.after("type",c,function(p,m){if(m?.type===void 0)return;const w=r.after("type",m,function(O,M){const B=M?.props?.buttons;if(B!==void 0)for(var E in B){var b=B[E];(b?.source===R&&e.storage.dmHideCallButton||b?.source===C&&e.storage.dmHideVideoButton)&&delete B[E]}w()});d()});i()});return[n]}))},onUnload:function(){for(const t of f)t()},settings:A};return y.default=D,Object.defineProperty(y,"__esModule",{value:!0}),y})({},vendetta.metro,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.plugin,vendetta.metro.common,vendetta.ui.components,vendetta.storage);
