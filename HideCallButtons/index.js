(function(l,c,r,u,m,e,g,D,R){"use strict";const{FormDivider:P,FormIcon:v,FormSwitchRow:y}=D.Forms;function M(){return R.useProxy(e.storage),React.createElement(g.ReactNative.ScrollView,null,React.createElement(y,{label:"Hide from user profile",subLabel:"Hide call buttons from user profile",leading:React.createElement(v,{source:u.getAssetIDByName("ic_profile_24px")}),onValueChange:function(o){e.storage.hideUserProfile=o},value:e.storage.hideUserProfile}),React.createElement(P,null),React.createElement(y,{label:"Hide from DM",subLabel:"Hide call buttons from DM title bar",leading:React.createElement(v,{source:u.getAssetIDByName("ic_dm")}),onValueChange:function(o){return e.storage.hideDMTitlebar=o},value:e.storage.hideDMTitlebar}))}let s=[];var _={onLoad:function(){e.storage.hideUserProfile??=!0,e.storage.hideDMTitlebar??=!1;const o=c.findByName("UserProfileActions",!1),B=c.findByName("ChannelActions",!1),N=u.getAssetIDByName("ic_video"),T=c.findByName("Header",!1);s.push(r.after("default",o,function(b,t){if(!e.storage.hideUserProfile)return[t];const n=m.findInReactTree(t,function(i){return i?.props?.children[1]?.props?.icon==N})?.props?.children;if(n!==void 0)return delete n[0],delete n[1],[t]})),s.push(r.after("default",B,function(b,t){if(!e.storage.hideDMTitlebar)return[t];const n=t?.props?.children?.type;if(n?.type?.name!=="PrivateChannelButtons")return;const i=r.after("type",n,function(f,d){const a=d?.props?.children;a!==void 0&&(delete a[0],delete a[1],i())});return[t]})),s.push(r.after("default",T,function(b,t){if(!e.storage.hideDMTitlebar)return;const n=m.findInReactTree(t,function(f){return f?.type?.name=="_default"});if(n===void 0)return;const i=r.after("type",n,function(f,d){if(d?.type===void 0)return;const a=r.after("type",d,function(A,p){if(p?.type===void 0)return;const U=r.after("type",p,function(E,h){delete h?.props?.buttons[0],delete h?.props?.buttons[1],U(),a()});i()})});return[t]}))},onUnload:function(){for(const o of s)o()},settings:M};return l.default=_,Object.defineProperty(l,"__esModule",{value:!0}),l})({},vendetta.metro,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.plugin,vendetta.metro.common,vendetta.ui.components,vendetta.storage);
