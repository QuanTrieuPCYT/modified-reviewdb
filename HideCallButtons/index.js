(function(m,u,n,d,y,e,B,D,C){"use strict";const{FormDivider:b,FormIcon:v,FormSwitchRow:p}=D.Forms;function V(){return C.useProxy(e.storage),React.createElement(B.ReactNative.ScrollView,null,React.createElement(p,{label:"Hide from user profile",subLabel:"Hide call buttons from user profile",leading:React.createElement(v,{source:d.getAssetIDByName("ic_profile_24px")}),onValueChange:function(o){e.storage.hideUserProfile=o},value:e.storage.hideUserProfile}),React.createElement(b,null),React.createElement(p,{label:"Hide from DM",subLabel:"Hide call buttons from DM title bar",leading:React.createElement(v,{source:d.getAssetIDByName("ic_dm")}),onValueChange:function(o){return e.storage.hideDMTitlebar=o},value:e.storage.hideDMTitlebar}),React.createElement(b,null),React.createElement(p,{label:"Hide from VC",subLabel:"Hide video button from VC",leading:React.createElement(v,{source:d.getAssetIDByName("video")}),onValueChange:function(o){return e.storage.hideVCVideoButton=o},value:e.storage.hideVCVideoButton}))}let s=[];var R={onLoad:function(){e.storage.hideUserProfile??=!0,e.storage.hideDMTitlebar??=!1,e.storage.hideVCVideoButton??=!1;const o=d.getAssetIDByName("ic_video"),N=d.getAssetIDByName("video"),A=d.getAssetIDByName("nav_header_connect"),E=u.findByName("UserProfileActions",!1),I=u.findByName("ChannelActions",!1),P=u.findByName("Header",!1),_=u.findByName("FocusedControlsBottomControls",!1);s.push(n.after("default",E,function(h,r){if(!e.storage.hideUserProfile)return;const t=y.findInReactTree(r,function(i){return i?.props?.children[1]?.props?.icon==o})?.props?.children;if(t!==void 0)return delete t[0],delete t[1],[r]})),s.push(n.after("default",_,function(h,r){if(!e.storage.hideVCVideoButton||r?.props?.children?.props?.children===void 0)return;var t=r?.props?.children?.props?.children[1];if(t?.type?.name!=="_default")return;const i=n.after("type",t,function(f,c){var a=c?.props?.children?.props?.children?.props?.children;a!==void 0&&delete a[0],i()})})),s.push(n.after("default",I,function(h,r){if(!e.storage.hideDMTitlebar)return;const t=r?.props?.children?.type;if(t?.type?.name!=="PrivateChannelButtons")return;const i=n.after("type",t,function(f,c){const a=c?.props?.children;a!==void 0&&(delete a[0],delete a[1],i())});return[r]})),s.push(n.after("default",P,function(h,r){if(!e.storage.hideDMTitlebar)return;const t=y.findInReactTree(r,function(f){return f?.type?.name=="_default"});if(t===void 0)return;const i=n.after("type",t,function(f,c){if(c?.type===void 0)return;const a=n.after("type",c,function(T,g){if(g?.type===void 0)return;const M=n.after("type",g,function(U,H){const l=H?.props?.buttons;l!==void 0&&(l[0].source===A||l[0].source===N)&&(delete l[0],delete l[1]),M()});a()});i()});return[r]}))},onUnload:function(){for(const o of s)o()},settings:V};return m.default=R,Object.defineProperty(m,"__esModule",{value:!0}),m})({},vendetta.metro,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.plugin,vendetta.metro.common,vendetta.ui.components,vendetta.storage);
